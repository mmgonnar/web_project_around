!function(){"use strict";var t="",e=t+"images/chicago.png",n=t+"images/arizona.png",r=t+"images/miami.png",o=t+"images/santa_monica.png",i=t+"images/vegas.png",u=t+"images/yellowstone_np.png",a=document.querySelector(".button_edit"),c=(document.querySelector(".popup_edit"),document.querySelector(".button_add")),l=document.querySelector(".profile__name"),s=document.querySelector(".profile__job"),p=document.querySelector(".popup__form"),f=document.querySelector(".popup__form_add"),y=(document.querySelector(".popup__element"),[{name:"Chicago",link:e},{name:"Arizona",link:n},{name:"Miami",link:r},{name:"Santa Monica",link:o},{name:"Las Vegas",link:i},{name:"Yellowstone",link:u}]),m={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".button_submit",inactiveButtonClass:"button_submit-disabled",inputErrorClass:"popup__input_has-error",errorClass:"popup__error"};function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function d(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==v(e)?e:String(e)}var h=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e,this._link=n,this._templateSelector=r,this._handleCardClick=o}var e,n;return e=t,(n=[{key:"getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".card").cloneNode(!0)}},{key:"_setEventListeners",value:function(t){var e=t.querySelector(".button_like");e.addEventListener("click",(function(){e.classList.toggle("liked")}));var n=t.querySelector(".button_delete");n.addEventListener("click",(function(){n.closest(".card").remove()})),t.querySelector(".card__image").addEventListener("click",this._handleCardClick)}},{key:"generateCard",value:function(){var t=this.getTemplate();this._cardElement=t;var e=t.querySelector(".card__image"),n=t.querySelector(".card__title-strong");return e.src=this._link,e.alt=this._name,n.textContent=this._name,this._setEventListeners(t),t}}])&&b(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S(r.key),r)}}function S(t){var e=function(t,e){if("object"!=_(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_(e)?e:String(e)}var w=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.validationConfig=e,this.formElement=n}var e,n;return e=t,(n=[{key:"_hideError",value:function(t,e){var n=t.querySelector(e);n.textContent="",n.classList.remove(this.validationConfig.errorClass)}},{key:"_showError",value:function(t,e,n,r){var o=t.querySelector(e);o.textContent=r,o.classList.add(n.errorClass)}},{key:"_toggleButton",value:function(t,e){var n=Array.from(t.querySelectorAll(e.inputSelector)),r=t.querySelector(e.submitButtonSelector);n.every((function(t){return t.validity.valid}))?(r.disabled=!1,r.classList.remove(e.inactiveButtonClass)):(r.disabled=!0,r.classList.add(e.inactiveButtonClass))}},{key:"_checkInputValidity",value:function(t,e){t.validity.valid?this._hideError(t.form,"#input__error-".concat(t.name),e):this._showError(t.form,"#input__error-".concat(t.name),this.validationConfig,t.validationMessage),this._toggleButton(t.form,e)}},{key:"enableValidation",value:function(t){var e=this;Array.from(document.forms).forEach((function(t){t.addEventListener("submit",(function(t){t.preventDefault()})),Array.from(t.querySelectorAll(e.validationConfig.inputSelector)).forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t,e.validationConfig)}))})),e._toggleButton(t,e.validationConfig)}))}}])&&g(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j(r.key),r)}}function j(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==E(e)?e:String(e)}var O=function(){function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var e,n;return e=t,n=[{key:"renderer",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this._container.prepend(t):this._container.append(t)}}],n&&k(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L(r.key),r)}}function L(t){var e=function(t,e){if("object"!=C(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==C(e)?e:String(e)}var q=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popupSelector=e,this._popupElement=document.querySelector(this._popupSelector),this._popupCloseButton=this._popupElement.querySelector(".button_close"),this._popupCloseOverlay=this._popupElement.querySelector(".popup__overlay"),this._handleEscClose=this._handleEscClose.bind(this),this.setEventListeners()}var e,n;return e=t,(n=[{key:"open",value:function(){this._popupElement.classList.add("popup_show"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_show"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._popupCloseButton.addEventListener("click",(function(){t.close()})),this._popupCloseOverlay.addEventListener("click",(function(e){e.target===t._popupCloseOverlay&&t.close()}))}}])&&P(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B(r.key),r)}}function B(t){var e=function(t,e){if("object"!=T(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==T(e)?e:String(e)}function x(t,e,n){return e=A(e),function(t,e){if(e&&("object"===T(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,R()?Reflect.construct(e,n||[],A(t).constructor):e.apply(t,n))}function R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(R=function(){return!!t})()}function V(){return V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=A(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},V.apply(this,arguments)}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}var N=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=x(this,e,[t]))._submitCallback=n,r}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(e,t),n=e,(r=[{key:"_getInputValues",value:function(){var t={};return this._inputList.forEach((function(e){t[e.name]=e.value})),t}},{key:"setInputValues",value:function(){V(A(e.prototype),"setEventListeners",this).call(this);var t=this._inputList[0],n=this._inputList[1];t.value=l.textContent,n.value=s.textContent}},{key:"setEventListeners",value:function(){var t=this;V(A(e.prototype),"setEventListeners",this).call(this),this._form||(this._form=this._popupElement.querySelector(".popup__form"),this._inputList=this._form.querySelectorAll(".popup__input")),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._submitCallback(t._getInputValues()),t.close()}))}},{key:"close",value:function(){V(A(e.prototype),"close",this).call(this),this._form.reset()}}])&&I(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(q);function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U(r.key),r)}}function U(t){var e=function(t,e){if("object"!=J(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==J(e)?e:String(e)}function z(t,e,n){return e=G(e),function(t,e){if(e&&("object"===J(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Y()?Reflect.construct(e,n||[],G(t).constructor):e.apply(t,n))}function Y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Y=function(){return!!t})()}function F(){return F="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=G(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},F.apply(this,arguments)}function G(t){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G(t)}function H(t,e){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},H(t,e)}var K=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=z(this,e,[t]))._popupImage=n._popupElement.querySelector(".popup__element"),n._popupTitle=n._popupElement.querySelector(".popup__title"),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H(t,e)}(e,t),n=e,(r=[{key:"open",value:function(t,n){this._popupImage.src=t,this._popupImage.alt=n,this._popupTitle.textContent=n,F(G(e.prototype),"open",this).call(this)}}])&&M(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(q);function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X(r.key),r)}}function X(t){var e=function(t,e){if("object"!=Q(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Q(e)?e:String(e)}var Z=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userName=document.querySelector(e),this._userJob=document.querySelector(n)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,job:this._userJob.textContent}}},{key:"setUserInfo",value:function(t){this._userName.textContent=t.name,this._userJob.textContent=t.job}}])&&W(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();a.addEventListener("click",(function(){et.setInputValues(),et.open()})),c.addEventListener("click",(function(){nt.open()}));var $=new O({items:y,renderer:function(t){var e=new h(t.name,t.link,"#cards-template",(function(){rt.open(t.link,t.name)})).generateCard();$.addItem(e)}},".cards");$.renderer();var tt=new Z(".profile__name",".profile__job"),et=new N(".popup_edit",(function(t){tt.setUserInfo(t)})),nt=new N(".popup_add",(function(t){var e=new h(t.title,t.url,"#cards-template",(function(){rt.open(t.url,t.name)})).generateCard();$.addItem(e,!0)})),rt=new K(".popup_image");new w(m,p).enableValidation(),new w(m,f).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QzVCRixFQUFZRyxRQUFRN0csR0FBYSxFQUNuQyxJQUVNMkcsR0FBYSxJQUFJZixFVDVEVyxnQlMrREwsSUFBSTVFLEVBQWNwQyxFQUFrQlgsR0FDNUNpSixtQkFFUSxJQUFJbEcsRUFBY3BDLEVBQWtCVixHQUM1Q2dKLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9jb25zdC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy91dGlscy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCJleHBvcnQgY29uc3QgYnV0dG9uRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX2VkaXRcIik7XG5leHBvcnQgY29uc3QgcG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9lZGl0XCIpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbkFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX2FkZFwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19qb2JcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuZXhwb3J0IGNvbnN0IGFkZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX2FkZFwiKTtcbmV4cG9ydCBjb25zdCBwb3B1cEltYWdlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2VsZW1lbnRcIik7XG5leHBvcnQgY29uc3QgcG9wdXBQcm9maWxlU2VsZWN0b3IgPSBcIi5wb3B1cF9lZGl0XCI7XG5leHBvcnQgY29uc3QgcG9wdXBBZGRTZWxlY3RvciA9IFwiLnBvcHVwX2FkZFwiO1xuZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2VTZWxlY3RvciA9IFwiLnBvcHVwX2ltYWdlXCI7XG5cbmltcG9ydCBDaGljYWdvIGZyb20gXCIuLi9pbWFnZXMvcGxhY2VzL2NoaWNhZ28ucG5nXCI7XG5pbXBvcnQgQXJpem9uYSBmcm9tIFwiLi4vaW1hZ2VzL3BsYWNlcy9hcml6b25hLnBuZ1wiO1xuaW1wb3J0IE1pYW1pIGZyb20gXCIuLi9pbWFnZXMvcGxhY2VzL21pYW1pLnBuZ1wiO1xuaW1wb3J0IFNhbnRhTW9uaWNhIGZyb20gXCIuLi9pbWFnZXMvcGxhY2VzL3NhbnRhX21vbmljYS5wbmdcIjtcbmltcG9ydCBMYXNWZWdhcyBmcm9tIFwiLi4vaW1hZ2VzL3BsYWNlcy92ZWdhcy5wbmdcIjtcbmltcG9ydCBZZWxsb3dzdG9uZSBmcm9tIFwiLi4vaW1hZ2VzL3BsYWNlcy95ZWxsb3dzdG9uZV9ucC5wbmdcIjtcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwiQ2hpY2Fnb1wiLFxuICAgIGxpbms6IENoaWNhZ28sXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkFyaXpvbmFcIixcbiAgICBsaW5rOiBBcml6b25hLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJNaWFtaVwiLFxuICAgIGxpbms6IE1pYW1pLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJTYW50YSBNb25pY2FcIixcbiAgICBsaW5rOiBTYW50YU1vbmljYSxcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFzIFZlZ2FzXCIsXG4gICAgbGluazogTGFzVmVnYXMsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlllbGxvd3N0b25lXCIsXG4gICAgbGluazogWWVsbG93c3RvbmUsXG4gIH0sXG5dO1xuIiwiZXhwb3J0IGZ1bmN0aW9uIG9wZW5Qb3B1cChkYXRhKSB7XG4gIGNvbnN0IHBvcHVwSW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9pbWFnZVwiKTtcbiAgY29uc3QgcG9wdXBJbWFnZUltZyA9IHBvcHVwSW1hZ2VFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2VsZW1lbnRcIik7XG4gIGNvbnN0IHBvcHVwSW1hZ2VUaXRsZSA9IHBvcHVwSW1hZ2VFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3RpdGxlXCIpO1xuICBwb3B1cEltYWdlSW1nLnNyYyA9IGRhdGEuX2xpbms7XG4gIHBvcHVwSW1hZ2VJbWcuc2V0QXR0cmlidXRlKFwiYWx0XCIsIGRhdGEuX3RpdGxlKTtcbiAgcG9wdXBJbWFnZVRpdGxlLnRleHRDb250ZW50ID0gZGF0YS5fdGl0bGU7XG59XG5cbi8vU3RhcnRzIHZhbGlkYXRpb24gb2YgdGhlIGZvcm0gd2l0aCB0aGUgcHJvdmlkZWQgc2V0dGluZ3MuXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmJ1dHRvbl9zdWJtaXRcIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJidXR0b25fc3VibWl0LWRpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfaGFzLWVycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yXCIsXG59O1xuIiwiaW1wb3J0IHsgb3BlblBvcHVwIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGxpbmssIHRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaykge1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgfVxuXG4gIGdldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IHRlbXBsYXRlU2VsZWN0b3IgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiB0ZW1wbGF0ZVNlbGVjdG9yO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKGNhcmRFbGVtZW50KSB7XG4gICAgY29uc3QgYnV0dG9uTGlrZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX2xpa2VcIik7XG4gICAgYnV0dG9uTGlrZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgYnV0dG9uTGlrZS5jbGFzc0xpc3QudG9nZ2xlKFwibGlrZWRcIik7XG4gICAgfSk7XG5cbiAgICBjb25zdCBidXR0b25EZWxldGUgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl9kZWxldGVcIik7XG4gICAgYnV0dG9uRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gYnV0dG9uRGVsZXRlLmNsb3Nlc3QoXCIuY2FyZFwiKTtcbiAgICAgIGNhcmQucmVtb3ZlKCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBidXR0b25JbWFnZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgYnV0dG9uSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNhcmRDbGljayk7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSB0aGlzLmdldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBjYXJkRWxlbWVudDtcblxuICAgIGNvbnN0IGNhcmRJbWFnZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgY29uc3QgY2FyZFRpdGxlID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZS1zdHJvbmdcIik7XG5cbiAgICBjYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICBjYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcblxuICAgIGNhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycyhjYXJkRWxlbWVudCk7XG5cbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMudmFsaWRhdGlvbkNvbmZpZyA9IHZhbGlkYXRpb25Db25maWc7XG4gICAgdGhpcy5mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICB9XG5cbiAgLy9IaWRlcyBhbnkgZXJyb3IgbWVzc2FnZXMgZm9yIHRoZSBnaXZlbiBmb3JtIGFuZCBpbnB1dC5cbiAgX2hpZGVFcnJvcihmb3JtLCBlcnJvclNlbGVjdG9yKSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybS5xdWVyeVNlbGVjdG9yKGVycm9yU2VsZWN0b3IpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy52YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3MpO1xuICB9XG5cbiAgLy9TaG93cyBhbiBlcnJvciBtZXNzYWdlIGZvciB0aGUgZ2l2ZW4gZm9ybSBhbmQgaW5wdXQuXG4gIF9zaG93RXJyb3IoZm9ybSwgZXJyb3JTZWxlY3RvciwgY29uZmlnLCBlcnJvck1lc3NhZ2UpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoZXJyb3JTZWxlY3Rvcik7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5lcnJvckNsYXNzKTtcbiAgfVxuXG4gIC8vU2hvd3Mgc3VibWl0IGJ1dHRvbiBpZiBpbnB1dHMgYXJlIHZhbGlkXG4gIF90b2dnbGVCdXR0b24oZm9ybSwgY29uZmlnKSB7XG4gICAgY29uc3QgaW5wdXRzID0gQXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcbiAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcblxuICAgIGlmIChpbnB1dHMuZXZlcnkoKGl0ZW0pID0+IGl0ZW0udmFsaWRpdHkudmFsaWQpKSB7XG4gICAgICBzdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHN1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHN1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB9XG4gIH1cblxuICAvL1ZhbGlkYXRlIGlucHV0c1xuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0LCBjb25maWcpIHtcbiAgICBpZiAoaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihpbnB1dC5mb3JtLCBgI2lucHV0X19lcnJvci0ke2lucHV0Lm5hbWV9YCwgY29uZmlnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2hvd0Vycm9yKFxuICAgICAgICBpbnB1dC5mb3JtLFxuICAgICAgICBgI2lucHV0X19lcnJvci0ke2lucHV0Lm5hbWV9YCxcbiAgICAgICAgdGhpcy52YWxpZGF0aW9uQ29uZmlnLFxuICAgICAgICBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZVxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uKGlucHV0LmZvcm0sIGNvbmZpZyk7XG4gIH1cblxuICAvL0VuYWJsZSBmb3JtIHZhbGlkYXRpb25cbiAgZW5hYmxlVmFsaWRhdGlvbihjb25maWcpIHtcbiAgICBjb25zdCBmb3JtcyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZm9ybXMpO1xuXG4gICAgZm9ybXMuZm9yRWFjaCgoZm9ybSkgPT4ge1xuICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBpbnB1dHMgPSBBcnJheS5mcm9tKFxuICAgICAgICBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy52YWxpZGF0aW9uQ29uZmlnLmlucHV0U2VsZWN0b3IpXG4gICAgICApO1xuXG4gICAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQsIHRoaXMudmFsaWRhdGlvbkNvbmZpZyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLl90b2dnbGVCdXR0b24oZm9ybSwgdGhpcy52YWxpZGF0aW9uQ29uZmlnKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVyZXIoKSB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQsIG9uc3RhcnQgPSBmYWxzZSkge1xuICAgIGlmIChvbnN0YXJ0KSB7XG4gICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IgPSBwb3B1cFNlbGVjdG9yO1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fcG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBDbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl9jbG9zZVwiKTtcbiAgICB0aGlzLl9wb3B1cENsb3NlT3ZlcmxheSA9XG4gICAgICB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fb3ZlcmxheVwiKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX3Nob3dcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9zaG93XCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fcG9wdXBDbG9zZU92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcy5fcG9wdXBDbG9zZU92ZXJsYXkpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcbmltcG9ydCB7IHByb2ZpbGVKb2IsIHByb2ZpbGVOYW1lIH0gZnJvbSBcIi4vY29uc3QuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvciwgc3VibWl0Q2FsbGJhY2spIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayA9IHN1Ym1pdENhbGxiYWNrO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfVxuXG4gIHNldElucHV0VmFsdWVzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgY29uc3QgaW5wdXROYW1lID0gdGhpcy5faW5wdXRMaXN0WzBdO1xuICAgIGNvbnN0IGlucHV0Sm9iID0gdGhpcy5faW5wdXRMaXN0WzFdO1xuICAgIGlucHV0TmFtZS52YWx1ZSA9IHByb2ZpbGVOYW1lLnRleHRDb250ZW50O1xuICAgIGlucHV0Sm9iLnZhbHVlID0gcHJvZmlsZUpvYi50ZXh0Q29udGVudDtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgaWYgKCF0aGlzLl9mb3JtKSB7XG4gICAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gICAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpO1xuICAgIH1cbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2VsZW1lbnRcIik7XG4gICAgdGhpcy5fcG9wdXBUaXRsZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX190aXRsZVwiKTtcbiAgfVxuXG4gIG9wZW4obGluaywgbmFtZSkge1xuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fcG9wdXBUaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHVzZXJOYW1lLCB1c2VySm9iKSB7XG4gICAgdGhpcy5fdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lKTtcbiAgICB0aGlzLl91c2VySm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VySm9iKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGpvYjogdGhpcy5fdXNlckpvYi50ZXh0Q29udGVudCxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oZGF0YSkge1xuICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQgPSBkYXRhLmpvYjtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgYnV0dG9uRWRpdCxcbiAgYnV0dG9uQWRkLFxuICBwcm9maWxlRm9ybSxcbiAgYWRkRm9ybSxcbiAgaW5pdGlhbENhcmRzLFxuICBwb3B1cEFkZFNlbGVjdG9yLFxuICBwb3B1cFByb2ZpbGVTZWxlY3RvcixcbiAgcG9wdXBJbWFnZVNlbGVjdG9yLFxufSBmcm9tIFwiLi9zY3JpcHRzL2NvbnN0LmpzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi9zY3JpcHRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuL3NjcmlwdHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IHsgdmFsaWRhdGlvbkNvbmZpZyB9IGZyb20gXCIuL3NjcmlwdHMvdXRpbHMuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuL3NjcmlwdHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4vc2NyaXB0cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4vc2NyaXB0cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuL3NjcmlwdHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBcIi4vcGFnZXMvaW5kZXguY3NzXCI7XG5cbi8vRXZlbnRzXG5idXR0b25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHByb2ZpbGVQb3B1cC5zZXRJbnB1dFZhbHVlcygpO1xuICBwcm9maWxlUG9wdXAub3BlbigpO1xufSk7XG5cbmJ1dHRvbkFkZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBhZGRQb3B1cC5vcGVuKCk7XG59KTtcblxuLy9SZW5kZXJzIEluaXRhbCBDYXJkc1xuY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXG4gICAgcmVuZGVyZXI6IChkYXRhKSA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgICAgIGRhdGEubmFtZSxcbiAgICAgICAgZGF0YS5saW5rLFxuICAgICAgICBcIiNjYXJkcy10ZW1wbGF0ZVwiLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaW1hZ2VQb3B1cC5vcGVuKGRhdGEubGluaywgZGF0YS5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xuICAgIH0sXG4gIH0sXG4gIFwiLmNhcmRzXCJcbik7XG5jYXJkU2VjdGlvbi5yZW5kZXJlcigpO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhcIi5wcm9maWxlX19uYW1lXCIsIFwiLnByb2ZpbGVfX2pvYlwiKTtcblxuY29uc3QgcHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBQcm9maWxlU2VsZWN0b3IsIChkYXRhKSA9PiB7XG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xufSk7XG5cbi8vQWRkcyBuZXcgQ2FyZFxuY29uc3QgYWRkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEFkZFNlbGVjdG9yLCAoZGF0YSkgPT4ge1xuICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoXG4gICAgZGF0YS50aXRsZSxcbiAgICBkYXRhLnVybCxcbiAgICBcIiNjYXJkcy10ZW1wbGF0ZVwiLFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIGltYWdlUG9wdXAub3BlbihkYXRhLnVybCwgZGF0YS5uYW1lKTtcbiAgICB9XG4gICk7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3Q2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCwgdHJ1ZSk7XG59KTtcblxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cEltYWdlU2VsZWN0b3IpO1xuXG4vL0Zvcm1zIFZhbGlkYXRvclxuY29uc3QgZm9ybVZhbGlkYXRvclByb2ZpbGUgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBwcm9maWxlRm9ybSk7XG5mb3JtVmFsaWRhdG9yUHJvZmlsZS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IGZvcm1WYWxpZGF0b3JOZXdDYXJkID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgYWRkRm9ybSk7XG5mb3JtVmFsaWRhdG9yTmV3Q2FyZC5lbmFibGVWYWxpZGF0aW9uKCk7XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImJ1dHRvbkVkaXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJidXR0b25BZGQiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVKb2IiLCJwcm9maWxlRm9ybSIsImFkZEZvcm0iLCJpbml0aWFsQ2FyZHMiLCJuYW1lIiwibGluayIsIkNoaWNhZ28iLCJBcml6b25hIiwiTWlhbWkiLCJTYW50YU1vbmljYSIsIkxhc1ZlZ2FzIiwiWWVsbG93c3RvbmUiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJDYXJkIiwidGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfbmFtZSIsIl9saW5rIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwia2V5IiwidmFsdWUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZEVsZW1lbnQiLCJidXR0b25MaWtlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImJ1dHRvbkRlbGV0ZSIsImNsb3Nlc3QiLCJyZW1vdmUiLCJnZXRUZW1wbGF0ZSIsIl9jYXJkRWxlbWVudCIsImNhcmRJbWFnZSIsImNhcmRUaXRsZSIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiZm9ybSIsImVycm9yU2VsZWN0b3IiLCJlcnJvckVsZW1lbnQiLCJjb25maWciLCJlcnJvck1lc3NhZ2UiLCJhZGQiLCJpbnB1dHMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwic3VibWl0QnV0dG9uIiwiZXZlcnkiLCJpdGVtIiwidmFsaWRpdHkiLCJ2YWxpZCIsImRpc2FibGVkIiwiaW5wdXQiLCJfaGlkZUVycm9yIiwiY29uY2F0IiwiX3Nob3dFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiX3RvZ2dsZUJ1dHRvbiIsIl90aGlzIiwiZm9ybXMiLCJmb3JFYWNoIiwiZSIsInByZXZlbnREZWZhdWx0IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIlNlY3Rpb24iLCJfcmVmIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJwcmVwZW5kIiwiYXBwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX3BvcHVwQ2xvc2VCdXR0b24iLCJfcG9wdXBDbG9zZU92ZXJsYXkiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJjbG9zZSIsInRhcmdldCIsIlBvcHVwV2l0aEZvcm0iLCJfUG9wdXAiLCJzdWJtaXRDYWxsYmFjayIsIl9jYWxsU3VwZXIiLCJfc3VibWl0Q2FsbGJhY2siLCJfaW5oZXJpdHMiLCJ2YWx1ZXMiLCJfaW5wdXRMaXN0IiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsImNhbGwiLCJpbnB1dE5hbWUiLCJpbnB1dEpvYiIsIl90aGlzMiIsIl9mb3JtIiwiZXZ0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJQb3B1cFdpdGhJbWFnZSIsIl9wb3B1cEltYWdlIiwiX3BvcHVwVGl0bGUiLCJVc2VySW5mbyIsInVzZXJOYW1lIiwidXNlckpvYiIsIl91c2VyTmFtZSIsIl91c2VySm9iIiwiam9iIiwiZGF0YSIsInByb2ZpbGVQb3B1cCIsInNldElucHV0VmFsdWVzIiwib3BlbiIsImFkZFBvcHVwIiwiY2FyZFNlY3Rpb24iLCJpbWFnZVBvcHVwIiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJ0aXRsZSIsInVybCIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9